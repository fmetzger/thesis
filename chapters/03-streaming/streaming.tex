%!TEX root = ../../dissertation.tex
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\chapter{Modeling and Measuring Reliable Video Streaming}
\label{chap:streaming}

The Web would not have seen that big an increase in traffic if it were not for the tight integration of video streaming into every browser. Most forms of today's Web-based video delivery take advantage of \gls{HTTP} and \gls{TCP} to transport video. This is a completely different approach to what was used before and is traditionally understood as video streaming.

Streaming itself can be conducted in many ways, resulting in an ever-increasing number of protocols. Furthermore, the current boom in smartphones creates an increasing plurality of access network technologies. Each of them exhibits characteristic \gls{QoS} properties. These are typically:

\begin{itemize}
	\item The \textit{bandwidth}, or the maximum throughput a user can achieve, which is always limited by at least one link, serving as the bottleneck. In most cases this will be the access link, but can also be any other link in times of high load. Bandwidth on an access medium can also be shared between all of its participants as is the case with any radio technology or cable Internet access.

	\item The \textit{delay} is the time data travels between a sender and a recipient. The term \textit{jitter} is used  for the delay variation and occurs, for example, when successive packets travel on different routes or through different radio receivers during mobility events.

	\item \textit{Loss} occurs when data packets do not reach the target. One source of loss can be an imperfect physical medium that flips some bits in a data packet. The responsible higher protocol layer will recognize this and drop the packet or repeat the request.
\end{itemize}

Video streaming needs to cope with all of these circumstances and still work well. This chapter investigates the model Web streaming uses. It differs significantly from models for traditional streaming, which are mostly specific to a single protocol.

The presented method rather aims to evaluate the performance by capturing generic behavioral patterns of streaming mechanisms from the perspective of a streaming application. Specifically, the model is based on the level of the playback buffer, which is a common attribute to any media playback. Thus, it can consider any network and playback behavior while maintaining flexibility with regards to the actual streaming server implementation, the network, and also the protocol stack.

After defining an appropriate performance metric and researching various playback strategies, the model is implemented in a network emulation testbed. A measurement campaign is then conducted, testing the influences of various \gls{QoS} settings and different playback strategies. 

The work in this chapter was originally based on two publications, \cite{metzger2011delivery} and \cite{6229739}, but has been extended to include a broader categorization and modeling effort.


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\input{background.tex}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\input{relwork.tex}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\input{modeling.tex}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\input{measurements.tex}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Reliable Streaming Summary}
\label{c3:sec:conclusion}

In the course of this chapter, a complete toolset to classify, model, emulate, measure, and finally to evaluate video streaming and interpret the results was given.

The multitude of approaches to reliable \gls{HTTP} streaming in recent years, required the creation of these tools. Previous advances proofed to be not flexible or fast enough to deal with this influx of new system parameters. The presented measurement framework based on a simple playback model can be an answer to this issue. Implemented as a emulation in a testbed or a \gls{DES} it can deal with almost any reliable streaming protocol.

Out of these reliable protocols, a differentiation and categorization solely based on their playback strategies was made and compared to real world examples. With the help of the measurement framework and testbed, these strategies were quickly evaluated for their behavior under difficult network \gls{QoS} conditions. Although they might not behave perfectly when stressed, they probably will still be the way forward in the future, because of their reduced complexity and the shift of control logic from the server to the client as well as from the protocol to the application.

This also makes them very interesting for usage on mobile device, the young application ecosystems growing there, and the very distinct behavior of mobile networks in contrast to classical wireline networks. This will be part of the next chapter's investigation.



%observe existing systems, e.g. YouTube \cite{metzger2011delivery}

%This paper investigates how Web-based media delivery works in general, and how meaningful measurement of its streaming quality can be achieved with future network developments and degraded network parameters in mind.
%Our model reports perceivable artifacts of buffer underruns, e.g. skips or stalls, which could then be fed into a QoE model to yield actual user QoE values.



% mention relationship to rtp again

%The purpose of this model and its evaluations is manifold. It could lead to protocols tailor-made for specific networks or an improved network planning process. -> or empirical approaches


% merge into chapter summary
%Through these to exemplary experiments, we tried to show that network QoS parameters have a direct measurable impact on the application layer, namely on HTTP streaming quality. While the models scale rather well with latency, any HTTP streaming is almost impossible with high packet loss values.Comparing the presented playback models, we conclude that every model represents a trade-off between several parameters, e.g. as measured here, the number and length of stalls. With the knowledge gained from the experiments, playback models could be tailor-made to best suit certain conditions and user requirements. 
%

%Streaming to mobile devices, especially in mobility scenarios, arises several new issues not seen at wireline connected devices.
 
%The lower-layer protocols on the radio link can cause additional unexpected behavior.
 
%Handover between radio cells can cause long periods of very high delay (up to seconds)

%interplay with server-side bandwidth pacing methods as employed by YouTube.