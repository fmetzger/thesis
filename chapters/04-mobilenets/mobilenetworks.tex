%!TEX root = ../../dissertation.tex
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\chapter{Mobile Core Networks Architecture}
\label{chap:mobilenets}

The rise of reliable video streaming is not happening completely independent of other developments in computer networking. Internet access is shifting towards mobile smartphones and mobile networks, sometimes even completely replacing fixed dial-up access  with stationary mobile \gls{3G} and \gls{LTE} modems. And all the ``over-the-top'' media streaming services are now more and more being used within mobile networks bringing a new set of traffic patterns as well as possible issues and influence factors along with them.

Today's cellular mobile networks are usually based on \gls{3GPP} specifications which have evolved from the circuit switched \gls{GSM} network into the fully packet switched \gls{LTE} which is still in its unrolling phase. But simply being packet switched does not mean that it shares a lot of similarity with a typical wireline \gls{IP} stack and network access infrastructure, for example a \gls{VDSL} or \gls{DOCSIS} dial-up connected to an \gls{IP} network. 

A \gls{3G} network (a term synonymous for the typical combined \gls{GSM} and \gls{UMTS} cellular network in use today) is very distinct from typical wired networks as it provides, amongst others, mobility and authentication in its lower layers through the core specifications rather than being optional on-top services as is typically the case in the Internet. To achieve this, large amounts of state have to be kept at each network node and is explicitly communicated among the network nodes in its \gls{CN}. Also, the lines separating layers and functions are very blurred, making it very hard to grasp parts of the architecture without understanding the whole. Many specialized protocols are involved to communicate intents and states in the network. This causes processing overhead and signaling traffic on the network paths on top of the actually useful user traffic. 

It is a known fact, that radio spectral resources are a scarce resource that need to be well managed. But it might not seem immediately obvious to think the same about control plane resources in the infrastructure of a mobile network. Yet, there have been accounts\footnote{``Docomo Counts Cost of Signaling Storm'',\url{http://www.lightreading.com/d/d-id/693779}}\footnote{``Android Signaling Storm Rises in Japan'', \url{http://www.lightreading.com/a/d-id/693138}}\footnote{``Angry Birds + Android + ads = network overload'', \url{http://www.itwire.com/business-it-news/47823}} (\cite{huawei2011storm}) of situations where the core network has been flooded with signaling, despite only a negligible amount of actual user traffic being transported. This resulted in an event dubbed ``signaling storm'', causing an unintentional \gls{DDoS} attack, disrupting user-plane connectivity on its way.

The state of research on the architecture and especially the control plane behavior of \gls{3G} mobile cellular networks is lean in comparison to the huge volume of research conducted other wired Internet structures. Most of the available research focuses on user-oriented metrics such as traffic statistics and mobility patterns, or only investigates properties of the radio interface. Little has been published about activity within the core network, and yet less about core signaling. 

Conducting \gls{IP} traffic research at the network's edge, independent of the access technology, is usually relatively easy. Writing simple tests and measurement scripts, that record the user's traffic, is all that is needed. But mobile phones do not allow one to peek inside its layer 1 and 2 implementation and interaction, where the control plane resides. Any information on this black box can only be indirectly inferred from layers above --- by forcing behavior known from specification --- or below --- through spectrum analysis using \gls{SDR} approaches. 

However, to directly investigate the core as well as the control plane, some kind of a measurement infrastructure inside the network is needed. With this, researchers could not just look into user traffic flowing through the network but also investigate the signaling heavy mobile network control plane. But to gain this kind of access to the network  would require the cooperation of a mobile network operator, which they grant very reluctantly due to privacy and competitive concerns.

Another important aspect related to signaling is network dimensioning. Operators mostly dimension their networks in accordance to the expected user traffic. But in such a signaling-dependent architecture this might not be the most fitting approach, as the mentioned signaling storms seem to demonstrate. 

This chapter attempts to remedy parts of the problem. Data from an existing mobile network measurement infrastructure is used to evaluate aspects of the control plane. 

%

Further methodology is given in Section~\ref{c4:sec:methodology} with the actual evaluation including a statistical analysis to follow in Section~\ref{c4:sec:evaluations}. The measurement data backs up a number of assumptions on the behavior of different device and operating system types, but also reveals some remarkable differences in signaling characteristics. Afterwards, the evaluation results are used to construct load models for the current \gls{CN} in Section~\ref{c4:sec:modeling}. This is extended with possible modifications to it and a numerical simulation to confirm the model viability.

This chapter uses material previously published in \cite{metzger2012research}, \cite{metzger2014jcnc}, and \cite{metzger2014lossmodel} and extends it.

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\input{architecture.tex}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\input{relwork.tex}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\input{loaddef.tex}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\input{methodology.tex}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Core Network Architecture Summary}
\label{c41:sec:conclusion}

 a broad overview of the \gls{3G} mobile core network control plane and attempts to determine a fitting definition for control plane load. This can not be achieved without first understanding many of the aspects and protocols unique to mobile networks. And these differ a lot from the conventional wisdom found in wired network architectures. With this knowledge at hand, a week long measurement trace acquired in the core network of an Austrian mobile operator was investigated. 

The definition of a control plane load serves as an essential distinction to regular mobile network investigations, which usually consider just the user plane.