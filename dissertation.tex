%!TEX program = lualatex
\documentclass[openright,titlepage,numbers=noenddot,headinclude,footinclude=true,cleardoublepage=empty,BCOR=5mm,paper=A4,fontsize=11pt,twoside]{scrreprt}

\input{components/info}
\input{components/packages}
\input{components/settings}

%% load and typeset glossaries
\makeglossaries%
\renewcommand{\glsseeitemformat}[1]{\textsc{\glsentryname{#1}}}
\loadglsentries{components/definitions}
\loadglsentries{components/acronyms}

\newcommand{\todo}[1]{{\small \color{red} [TODO: #1]}}

\makeatletter
\providecommand\phantomsection{}% for hyperref
\newcommand\listofillustrations{%
	\begingroup
		\let\clearpage\relax
		\let\cleardoublepage\relax
	    \chapter*{Figures}%
	    \phantomsection
	    \addcontentsline{toc}{chapter}{Figures}%
	    \@starttoc{lof}%
	    \bigskip
	    \chapter*{Tables}%
	    \phantomsection
	    \addcontentsline{toc}{chapter}{Tables}%
	    \@starttoc{lot}
    \endgroup}
\makeatother

%\newsavebox\ltmcbox

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\begin{document}

\input{components/cover.tex}
\input{components/license.tex}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%% TOC
\newpage 
\pagenumbering{roman}
\phantomsection
\addcontentsline{toc}{chapter}{Contents}%
\tableofcontents


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%% lists
\newpage
\listofillustrations

\newpage
 \begingroup % printglossar{y,ies} forces a cleardoublepage between glossaries and after it, we supress this here
	\let\clearpage\relax
	\printglossaries

	%\printglossary
	%\newpage
	%\printglossary[type=\acronymtype]
	%\printacronyms % works only with glossaries 4.0+
 \endgroup


\newpage % or \cleardoublepage
\include{components/quote}

\newpage % or \cleardoublepage
\include{components/abstract}

\newtheorem{mydef}{Definition}
\newpage % or \cleardoublepage
\chapter*{Acknowledgments}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\cleardoublepage
\pagenumbering{arabic}


\subimport{chapters/01-intro/}{introduction}
%\subimport{chapters/02-background/}{background}
\subimport{chapters/03-streaming/}{streaming}
\subimport{chapters/04-mobilenets/}{mobilenetworks}
\subimport{chapters/05-mobilestreaming/}{mobilestreaming}
\subimport{chapters/99-conclusion/}{conclusion}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\input{components/sourcecode.tex}


\nocite{oechsner2009pushing,metzger2014lossmodel,raf2013sensorium,cs3516} % temporary import of own pubs
\printbibliography[title=Own Publications, keyword=ownpub, heading=bibintoc]
\printbibliography[notkeyword=ownpub, heading=bibintoc]

\end{document}
